# 3.2.4. Decorator

## Introdu√ß√£o

Este documento apresenta a aplica√ß√£o do padr√£o de projeto Decorator no desenvolvimento da **Pinacoteca Online**.

O padr√£o Decorator, classificado como um padr√£o estrutural pelo *Gang of Four* (GoF), permite adicionar responsabilidades adicionais a um objeto de forma din√¢mica, sem modificar sua estrutura original (REFACTORING GURU, 2024). Essa abordagem promove maior flexibilidade em rela√ß√£o ao uso da heran√ßa, pois permite compor funcionalidades de maneira incremental, por meio do encapsulamento de objetos decorados.

No contexto deste projeto, o padr√£o foi utilizado para enriquecer a exibi√ß√£o de obras de arte com informa√ß√µes adicionais, como n√∫mero de curtidas, coment√°rios e visualiza√ß√µes. Com isso, foi poss√≠vel estender o comportamento da interface de exibi√ß√£o sem alterar a classe base que representa a obra de arte, promovendo maior reutiliza√ß√£o de c√≥digo e ader√™ncia ao princ√≠pio aberto/fechado (*Open/Closed Principle*) da programa√ß√£o orientada a objetos.

## Metodologia

Para o desenvolvimento do trabalho, foram realizadas as seguintes etapas:

1. Estudo do conte√∫do: foi assistida a videoaula dispon√≠vel no Aprender 3, complementada por pesquisas adicionais na internet para aprofundamento no tema.
2. An√°lise do diagrama de classes: ap√≥s a compreens√£o do conte√∫do, foi analisado onde o padr√£o Decorator poderia ser aplicado.
3. Adapta√ß√µes: definido o alvo de aplica√ß√£o, foram feitas as adapta√ß√µes necess√°rias, detalhadas na se√ß√£o de desenvolvimento, para viabilizar a implementa√ß√£o do padr√£o GoF Decorator.
4. Elabora√ß√£o do diagrama: o diagrama referente ao padr√£o Decorator foi criado utilizando a plataforma draw.io.
5. Implementa√ß√£o do c√≥digo: foi realizada a codifica√ß√£o conforme o diagrama elaborado e as adapta√ß√µes feitas com aux√≠lio de IA.
6. Elabora√ß√£o do documento: o documento foi elaborado e aprimorado ao longo de todas as etapas anteriores, consolidando o processo.

## Desenvolvimento

Como descrito na metodologia, a aplica√ß√£o do padr√£o GoF **Decorator** no contexto do projeto exigiu algumas adapta√ß√µes na estrutura previamente desenvolvida. Tais altera√ß√µes foram propostas com fins did√°ticos, com o objetivo de ilustrar o funcionamento e os benef√≠cios desse padr√£o, sem implicar necessariamente em mudan√ßas definitivas no sistema.

O padr√£o Decorator se mostrou apropriado para representar a exibi√ß√£o de obras de arte com informa√ß√µes adicionais que variam conforme o contexto, como n√∫mero de curtidas, coment√°rios e visualiza√ß√µes. A alternativa tradicional, baseada em heran√ßa, exigiria a cria√ß√£o de m√∫ltiplas subclasses para cobrir todas as combina√ß√µes poss√≠veis de informa√ß√µes exibidas, resultando em um c√≥digo r√≠gido e de dif√≠cil manuten√ß√£o. Por isso, o uso de decoradores foi mais vantajoso, permitindo a composi√ß√£o din√¢mica dessas funcionalidades.

Para implementar o padr√£o, foi criada uma interface comum chamada `Art`, representando a estrutura base de exibi√ß√£o de uma obra. A partir dela, uma classe concreta `BasicArt` fornece as informa√ß√µes fundamentais, como **t√≠tulo**, **artista**, **t√©cnica** e **descri√ß√£o**. Em seguida, foram desenvolados decoradores como `LikeDecorator`, `CommentDecorator` e `ViewDecorator`, todos herdando de uma classe abstrata `ArtDecorator`, respons√°vel por encapsular outro objeto do tipo `Art`. Cada decorador adiciona comportamentos espec√≠ficos ao m√©todo `showDetails()`, sem alterar o funcionamento da obra original.

Na pr√°tica, essa abordagem permite que o sistema exiba dinamicamente uma obra com diferentes n√≠veis de detalhamento, dependendo das prefer√™ncias do usu√°rio ou do contexto de exibi√ß√£o. Por exemplo, uma obra pode ser apresentada apenas com curtidas, ou com curtidas e coment√°rios, ou ainda com todas as informa√ß√µes adicionais, bastando encadear os decoradores conforme necess√°rio.

Esse exerc√≠cio refor√ßa os princ√≠pios de composi√ß√£o sobre heran√ßa e promove um c√≥digo mais flex√≠vel, reutiliz√°vel e aderente ao paradigma da programa√ß√£o orientada a objetos.

### Diagrama

<font size="2"><p style="text-align: center"><b>Figura 1: </b>Diagrama criado para implementa√ß√£o do padr√£o Decorator</p></font>

<div style="text-align: center;">

![prototype](./assets/images/decorator.png)

</div>

<font size="2"><p style="text-align: center"><b>Autor:</b> <a href="https://github.com/DaviRogs">Davi Rodrigues</a>, 2025</p></font>

### C√≥digo

####  Interface `Art`
```ts
// art.interface.ts
export interface Art {
  showDetails(): string;
}
```

####  Classe Concreta `BasicArt`
```ts
// basic-art.ts
import { Art } from './art.interface';

export class BasicArt implements Art {
  constructor(
    private title: string,
    private artist: string,
    private technique: string,
    private description: string,
  ) {}

  showDetails(): string {
    return `üé® ${this.title} por ${this.artist} (${this.technique})\n${this.description}`;
  }
}


```

#### Classe Abstrata `ArtDecorator`
```ts
// art.decorator.ts
import { Art } from './art.interface';

export abstract class ArtDecorator implements Art {
  constructor(protected wrappee: Art) {}

  abstract showDetails(): string;
}
```

#### Decorador Concreto `LikeDecorator`
```ts
// like.decorator.ts
import { ArtDecorator } from './art.decorator';

export class LikeDecorator extends ArtDecorator {
  constructor(wrappee, private likeCount: number) {
    super(wrappee);
  }

  showDetails(): string {
    return `${this.wrappee.showDetails()}\n‚ù§Ô∏è Curtidas: ${this.likeCount}`;
  }
}
```

#### Decorador Concreto `CommentDecorator`
```ts
// comment.decorator.ts
import { ArtDecorator } from './art.decorator';

export class CommentDecorator extends ArtDecorator {
  constructor(wrappee, private commentCount: number) {
    super(wrappee);
  }

  showDetails(): string {
    return `${this.wrappee.showDetails()}\nüí¨ Coment√°rios: ${this.commentCount}`;
  }
}
```
#### Decorador Concreto `ViewDecorator`
```ts
// view.decorator.ts
import { ArtDecorator } from './art.decorator';

export class ViewDecorator extends ArtDecorator {
  constructor(wrappee, private views: number) {
    super(wrappee);
  }

  showDetails(): string {
    return `${this.wrappee.showDetails()}\nüëÅÔ∏è Visualiza√ß√µes: ${this.views}`;
  }
}
```

#### Main
```ts
// service.ts
import { BasicArt } from './basic-art';
import { LikeDecorator } from './like.decorator';
import { CommentDecorator } from './comment.decorator';
import { ViewDecorator } from './view.decorator';

const art = new BasicArt('C√©u Azul', 'Mayumi', 'Aquarela', 'Uma paisagem serena e azulada.');

const decorated = new ViewDecorator(
  new CommentDecorator(
    new LikeDecorator(art, 120),
    42
  ),
  830
);

console.log(decorated.showDetails());
```

#### Informa√ß√µes adicionais

- [C√≥digo rodando](https://drive.google.com/file/d/1ojz7e1NoY-4rSd-wkz3DtMzzKsJqpZF4/view?usp=drive_link)<br>
  Participantes: Davi Rodrigues da Rocha
- [Reposit√≥rio do C√≥digo](https://github.com/UnBArqDsw2025-1-Turma01/2025.1-T01-_G2_PinacotecaOnline_Entrega_03/tree/code-decorator)

## Conclus√£o

Por fim, a aplica√ß√£o do padr√£o Decorator na Pinacoteca Online, ainda que realizada com fins did√°ticos, evidenciou as vantagens da composi√ß√£o din√¢mica de comportamentos em rela√ß√£o √† heran√ßa r√≠gida. Atrav√©s do uso de decoradores, foi poss√≠vel estender funcionalidades de exibi√ß√£o de obras de arte ‚Äî como curtidas, coment√°rios e visualiza√ß√µes ‚Äî de forma flex√≠vel e modular, sem modificar a estrutura original das classes existentes.

A atividade contribuiu para entender o padr√£o Decorator, mostrando sua aplicabilidade em situa√ß√µes onde diferentes funcionalidades precisam ser combinadas de maneira independente. Mesmo que o cen√°rio adotado tenha sido constru√≠do para fins pedag√≥gicos, ele demonstrou com clareza como o padr√£o Decorator pode tornar o c√≥digo mais reutiliz√°vel, organizado e aderente aos princ√≠pios de design orientado a objetos.

## Bibliografia

> REFACTORING GURU. Prototype design pattern. Dispon√≠vel em: <https://refactoring.guru/design-patterns/prototype>. Acesso em: 31 maio 2025.

> SERRANO, Milene. 09d - Video-Aula - DSW - GoFs - Estruturais - Demais Padr√µes - Vis√µes R√°pida. [S. l.]. 1 v√≠deo (aula de Arquitetura e Desenho de Software). Dispon√≠vel em: https://unbbr-my.sharepoint.com/:v:/g/personal/mileneserrano_unb_br/EZzj0BVtpTxMnBCtiUlE0r8BD7Tw_XOeK1J8Jn__qgod0A?e=ic6AcE&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D. Acesso em: 31 maio 2025.

> SERRANO, Milene. Arquitetura e Desenho de Software - Aula - GoFs Estruturais. Dispon√≠vel em: https://aprender3.unb.br/pluginfile.php/3075186/mod_page/content/1/Arquitetura%20e%20Desenho%20de%20Software%20-%20Aula%20GoFs%20Estruturais%20-%20Profa.%20Milene.pdf. Acesso em: 31 maio 2025.

## Hist√≥rico de Vers√µes

| Vers√£o | Data       | Descri√ß√£o                                                                                                       | Autor(es)                                     | Revisor(es)             | Detalhes da revis√£o |
| ------ | ---------- | --------------------------------------------------------------------------------------------------------------- | --------------------------------------------- | ----------------------- | ------------------- |
| 1.0    | 31/05/2025 | Cria√ß√£o do documento, adi√ß√£o da introdu√ß√£o e desenvolvimento. | [Davi Rodrigues](https://github.com/DaviRogs) | [Alana Gabriele](https://github.com/alanagabriele) |                     |
| 1.1    | 31/05/2025 | Adi√ß√£o do C√≥digo a partir do diagrama feito, conclus√£o e bibliografia. | [Lucas Heler](https://github.com/Akaeboshi) |[Alana Gabriele](https://github.com/alanagabriele) |    O artefato foi revisado e n√£o foram identificados problemas.                 |
